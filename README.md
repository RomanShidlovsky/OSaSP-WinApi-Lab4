# OSaSP-WinApi-Lab4
Изучение использования встроенного пула потоков и механизмов синхронизации.
-----------------------------------------------------------------------------
+ Разработать потокобезопасную коллекцию на основе списка. Необходимо использовать один из примитивов синхронизации, выбор обосновать:
++ Критическая секция,
++ Семафор,
++ Мьютекс.
+ Доп. задание по желанию: реализовать неблокирующую потокобезопасную коллекцию.
+ Разработать программу, которая осуществляет поиск заданной строки во всех файлах указанного каталога на верхнем уровне вложенности.
++ Главный поток перечисляет файлы в каталоге, для каждого из них создаёт задачу и запускает её в пуле потоков (SubmitThreadpoolWork). В качестве аргумента задаче передается путь к файлу.
++ Задача считает количество вхождений заданной строки в файле и сохраняет результат вместе с именем файла в разработанную потокобезопасную коллекцию.
++ Главный поток дожидается завершения всех задач и выводит результаты поиска в формате: “<имя-файла>: <количество-вхождений-строки>”. Для ожидания использовать Условную переменную и Критическую секцию (см. слайды 80-81):
++ заводится счётчик незавершённых задач;
+++ перед добавлением новой задачи главный поток увеличивает счётчик на 1;
+++ при завершении задачи она самостоятельно уменьшает счётчик на 1;
+++ главный поток ожидает, когда счётчик обнулится.
